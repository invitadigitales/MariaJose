<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mis XV Años Maria Jose</title>

    <!-- Meta tags para redes sociales -->
    <meta property="og:title" content="Mis XV Años Maria Jose">
    <meta property="og:description" content="¡Te invito a celebrar conmigo este día tan especial!">
    <meta property="og:image" content="https://invitadigitales.github.io/MariaJose/f.png">
    <meta property="og:url"   content="https://invitadigitales.github.io/MariaJose">
    <meta property="og:type"  content="website">

    <!-- CSS Libraries -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flexslider@2.7.2/flexslider.css">
    <link rel="stylesheet" href="awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.12.0/toastify.min.css">

    <link rel="stylesheet" type="text/css" href="util.css?sadadad">
    <link rel="stylesheet" type="text/css" href="filter.css">
    <link rel="stylesheet" type="text/css" href="styles.css">

</head>

<body>






    <div class="protector bg_black bg_opacity_70">
        <div id="libro">
           <div id="pagina-izq"></div>
           <div id="pagina-der"></div>
           <img src="sello.png" id="sello" class="animate__animated animate__pulse animate__infinite">
        </div>
    </div>


    <div class="content">





        
        <div class="bgr_ini">
            <img class="bgr_image" src="img1.jpg" alt="Contenido">
            <img class="bgr_grafic filter_white" src="grafica1.svg" alt="Contenido Frente">
            <div class="texto_position1 text-center color_white">
               <h1 class="font_paris fspx_50 line_height_30 m_0">-xv-</h1>
               <h1 class="font_paris fspx_70 m_0">MJ</h1>
            </div>
            <div class="texto_position2 text-center color_white">
                <div id="countdown" class="text_shadow_dark"></div>
            </div>
        </div>
            


        

        <center class="py_50 px_60 bg_green_light">
            <h3 class="font_charm">Su Majestad, Maria, solicita su presencia en la celebración de su XV Aniversario. Una noche mágica en su honor</h3>
        </center>





        <center class="bgr_cover"style="background-image: url('fondo01.jpeg');">
            <div class="m_0a d_block max_wpx_500 color_black box_shadow_dark">
                <div class="bg_white p_50 bg_opacity_50">
                    <img src="copo_icon.svg" class="hpx_50 filter_black">



        
                    <h3 class="font_times">En tus quince primaveras, se despliegan sueños como mariposas al vuelo, un mundo de posibilidades te espera y en tu corazón se tejen hilos de anhelo.</h3><br>

                    <h3 class="font_times">Imagina un futuro lleno de risas y aventuras donde cada paso te acerque a tu destino, donde el amor y la felicidad sean tus guías seguras y la pasión encienda siempre tu camino.</h3><br>

                    <h3 class="font_times">Maria, con tu sonrisa encantadora iluminas el mundo con tu luz y alegría, que nunca falte en tu vida tus sueños se cumplan cada día.</h3><br>

                    <h3 class="font_paris fspx_50">Maria Jose</h3>
                    <img src="greca1.png" class="w_100 filter_black">
                </div>
                <img src="img2.jpg" class="w_100">

                <div class="p_50 bg_white color_black">
                    <img src="copo_icon.svg" class="hpx_50 filter_black">
                    <h3 class="font_times m_0">Mis Papás</h3>
                    <h3 class="font_paris m_0 font_bold fspx_30">Julio Adrián Benites Castañeda</h3>
                    <h3 class="font_paris m_0 font_bold fspx_30">y</h3>
                    <h3 class="font_paris m_0 font_bold fspx_30">Ana María Rea Garcia</h3>

                    <br>
        
                    <img src="copo_icon.svg" class="hpx_50 filter_black">
                    <h3 class="font_times m_0">Mi Madrina</h3>
                    <h3 class="font_paris m_0 font_bold fspx_30">Martha Moreno Lopez</h3>


                    <br>
                    <h3 class="font_times m_0">Tienen el honor de invitarte a la fiesta del XV aniversario de Maria</h3>

                </div>

            </div>
        </center>
  


        <div class="bg_green_light" id="acces">
            <center class="m_0a d_block max_wpx_700 pt_40">
                <div class="px_20"><img src="greca1.png" class="w_100 filter_black"></div>
                <h3 class="font_paris fspx_40 font_bold mb_30">Dónde & Cuándo</h3>
            </center>

            <div class="pb_60">
                <div class="row max_wpx_1000 px_30 m_0">

             
    
                        <div class="col-md-6 font_times">
                            <div class="bg_white bg_opacity_70 p_30">
                                <h3 class="text_center">Ceremonia Religiosa</h3>
                                <img src="lugar1.jpg" class="wimg_responsive rounded mb_10">
                                <h3 class="text_center">Iglesia del Sagrado Corazón de Jesús</h3>
                                <div class="text_left">
                                    <strong>Cuándo:</strong>
                                    <span>6 de Diciembre del 2025 5:00 pm.</span><br>
                                    <strong>Dirección:</strong>
                                    <span>1a. Ing. Carlos Ramírez Ulloa, Centro, 73900 Cdad. de Tlatlauquitepec, Pue.</span>
                                </div><br>
                                <a href="https://maps.app.goo.gl/fbipAwuLQHJocdXs8" class="my_btn bg_green_light py_10 px_30 mt_10 rounded color_white no_link" >Ver mapa</a>
                            </div>

                        </div>
      
    
                        <div class="col-md-6 font_times">
                            <div class="bg_white bg_opacity_70 p_30">
                                <h3 class="text_center">Recepción</h3>
                                <img src="lugar2.jpg" class="wimg_responsive rounded mb_10">
                                <h3 class="text_center">Salon Pedregales</h3>
                                <div class="text_left">
                                    <strong>Cuándo:</strong>
                                    <span>6 de Diciembre del 2025 4:00 pm.</span><br>
                                    <strong>Dirección:</strong>
                                    <span>Predio Santa Cecilia Oriente, 37100 León de los Aldama, Gto.</span>
                                </div><br>
                                <a href="https://maps.app.goo.gl/1uHTitwbesHfC7Wh8" class="my_btn bg_green_light py_10 px_30 mt_10 rounded color_white no_link" >Ver mapa</a>
                            </div>

                        </div>



                </div>
            </div>
        </div>


        <center class="bg_white">
            <div class="m_0a d_block max_wpx_500 color_black box_shadow_dark">


                <div class="p_50 bg_white color_black">

  
    
                    <div class="timeline">
                  
                        <div class="timeline_item pb_40">
                            <img class="timeline_img" src="estrella.png">
                            <div class="timeline_time">5:00 pm</div>
                            <div class="timeline_event">Misa</div>
                        </div>

                        <div class="timeline_item pb_40">
                            <img class="timeline_img" src="estrella.png">
                            <div class="timeline_time">6:30 pm</div>
                            <div class="timeline_event">Recepción</div>
                        </div>

                        <div class="timeline_item pb_40">
                            <img class="timeline_img" src="estrella.png">
                            <div class="timeline_time">8:30 pm</div>
                            <div class="timeline_event">Vals</div>
                        </div>

                        <div class="timeline_item pb_40">
                            <img class="timeline_img" src="estrella.png">
                            <div class="timeline_time">9:00 pm</div>
                            <div class="timeline_event">Brindis</div>
                        </div>

                        <div class="timeline_item">
                            <img class="timeline_img" src="estrella.png">
                            <div class="timeline_time">9:30 pm</div>
                            <div class="timeline_event">Pista</div>
                        </div>


                    </div>





                </div>

            </div>
        </center>




        <div class="bgimg_patron bg_size_80"style="background-image: url('patron1.svg');">
            <center class="m_0a d_block max_wpx_700 color_black py_20">
                <h3 class="font_paris fspx_40 font_bold m_0">Mis Fotos</h3>
            </center>
            <div class="flexslider m_0">
              <ul class="slides">
                <li><img src="f1.jpg" /></li>
                <li><img src="f2.jpg" /></li>
                <li><img src="f3.jpg" /></li>
                <li><img src="f4.jpg" /></li>
                <li><img src="f5.jpg" /></li>
                <li><img src="f6.jpg" /></li>
              </ul>
            </div>
        </div>
  


        <div class="bg_green_light">
            <center class="m_0a d_block max_wpx_700 color_black py_40">
                <div class="px_20"><img src="greca1.png" class="w_100 filter_white"></div>
              
                <a href="https://wa.me/+5212337592436?text=Hola,%20confirmo%20mi%20asistencia%20a%20tu%20evento" 

                class="font_paris fspx_30 my_btn bg_white py_5 px_20 rounded color_black d_block w_100 my_20 text_shadow_dark no_link">

                    <i class="fa fa-whatsapp mr_10" aria-hidden="true"></i><span>Confirmar Asistencia</span>
                </a>
    

                <div class="px_20"><img src="greca1.png" class="w_100 filter_white rotate_180"></div>
            </center>
        </div>

        






        <div class="bgr_ini">
            <img class="bgr_fondo" src="fondo03.jpg" alt="Fondo">
            <img class="bgr_image" src="img3.jpg" alt="Contenido">
            <img class="bgr_grafic" src="grafica2.svg" alt="Contenido Frente">
            <div class="texto_position1 text-center color_white">
               <h1 class="font_charm text_shadow_dark fspx_20 line_height_30 m_0">
                será una noche  mágica para mí y me encantaría <br>que la disfrutes conmigo. espero verte ahí.
                </h1>
               <h1 class="font_paris fspx_50 m_0 text_shadow_dark">Maria</h1>
            </div>
        </div>
        




        <center class="bgr_cover"style="background-image: url('fondo01.jpeg');">


            <div class="m_0a d_block max_wpx_500 color_black box_shadow_dark">
                <div class="p_50 bg_white color_black">
                    <h3 class="font_paris fspx_50 m_0">Regalos</h3>
                    <h3 class="font_times fspx_20 m_0">Tu presencia es mi mayor regalo, pero si deseas tener un detalle conmigo, te agradecería un regalo.</h3>
                </div>
            </div>
 
            <div class="m_0a d_block max_wpx_500 color_black box_shadow_dark">
                <div class="p_50 bg_green_light color_black">
                    <h3 class="font_paris fspx_30 m_0">Color Reservado para la Quinceañera</h3>
                    <h3 class="font_times fspx_20 m_0">El color verde estará reservado exclusivamente para Maria.</h3>
                </div>
            </div>
        </center>




       




        <div class="bg_green" id="acces">
            <center class="m_0a d_block max_wpx_700 color_black py_40">
                <div class="px_20"><img src="greca1.png" class="w_100 filter_white"></div>
                <button href="#" class="font_paris fspx_30 my_btn bg_white py_5 px_20 rounded color_black d_block w_100 my_20 text_shadow_dark no_link"
                        data-bs-toggle="modal" data-bs-target="#PaseModal3">
                    <i class="fa fa-id-card-o mr_10" aria-hidden="true"></i><span>Pase para </span><span id="txt_personas">- - -</span>
                </button>
                <div class="px_20"><img src="greca1.png" class="w_100 filter_white rotate_180"></div>
            </center>
        </div>



        <div class="pst_relative zdex_10 d_none" id="no_acces" onclick="ShowModal()">
            <div class="pst_relative bg_white py_50 px_20 text_center color_black">
               <h1 class="font_bold text_center fspx_20 m_0 color_red text_uppercase">La presente invitación<br> no garantiza acceso al evento.</h1>
            </div>
        </div>








        <!-- Footer -->
        <footer class="bd-footer pb-4 bg_green_light">
            <div class="container-fluid py-4">
                <div class="row align-items-center py-4">

                    <div class="col-12 col-md-5 text-center text-md-end mb-3 mb-md-0">
                       <p class="font_chewy mb-0 fs-6 color_white">© 2025 Todos los derechos reservados</p>
                       <a href="https://invitadigitales.github.io/mx/" class="font_chewy mb-0 fs-6 no_link color_white">
                          <img src="net.svg" alt="Instagram" class="footer-icon">
                          <span>invitadigitales.github.io/mx<span>
                        </a>
                    </div>

                    <div class="col-12 col-md-7">
                        <div class="d-flex justify-content-center gap-2">
                            <div class="footer-links font_chewy ">
                                <a href="https://www.facebook.com/InvitaDigitales/" class="d-flex align-items-center justify-content-center fs-6 ">
                                    <img src="facebook.svg" alt="Facebook" class="footer-icon">
                                    <span class="color_white">InvitaDigitales</span>
                                </a>
                            </div>
                            <div class="footer-links font_chewy ">
                                <a href="https://www.instagram.com/inbitadigitales/" class="d-flex align-items-center justify-content-center fs-6">
                                    <img src="instagram.svg" alt="Instagram" class="footer-icon">
                                    <span class="color_white">InbitaDigitales</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>

    </div>










    <!-- Modal -->
    <div class="modal fade" id="PaseModal3">
      <div class="modal-dialog modal-lg">
        <div class="text_right mb_15" style="pointer-events: auto;">
            <button class="my_btn bg_green color_white rounded " data-bs-dismiss="modal" aria-label="Close">
                <i class="material-icons p_5">close</i>
            </button>
        </div>
        <div class="modal-content px_25 py_5">
            <div class="rounded" id="map1">
                
                <div class="pase-xv">
                    <center>
                        <h1 class="color_vino m_0 font_paris fspx_40" id="txt_famlia">- - -</h1>
                        <h1 class="color_golden m_0 font_charm fspx_25">le invitamos cordialmente</h1>
                    </center>

                    <div class="contenido-pase">


                        <div class="m_10">
                            <div class="d_iflex jc_between w_100 font_times px_20">
                                <div>Fecha : </div>
                                <div>6 de Diciembre, 2025</div>
                            </div>                            
                        </div>
                        <div class="m_10">
                            <div class="d_iflex jc_between w_100 font_times px_20">
                                <div>Hora : </div>
                                <div>4:00 pm</div>
                            </div>                            
                        </div>
                        <div class="m_10">
                            <div class="d_iflex jc_between w_100 font_times px_20">
                                <div>Lugar : </div>
                                <div>Salon Pedregales</div>
                            </div>                            
                        </div>
                        <div class="m_10">
                            <div class="d_iflex jc_between w_100 font_times px_20">
                                <div>Código : </div>
                                <div>Formal / Elegante</div>
                            </div>                            
                        </div>
          
                       

                        <p class="font_paris text_center m_0 line_height_25 fspx_25 color_golden my_10">
                            "Acompáñanos en esta noche mágica donde los sueños se hacen realidad. Tu presencia hará que esta celebración sea aún más especial."
                        </p>
                        <a href="https://wa.me/+5212337592436?text=Hola,%20confirmo%20mi%20asistencia%20a%20tu%20evento" 
                        class="font_paris fspx_30 my_btn bg_green py_5 px_20 rounded color_white d_block w_100 text_center my_20 text_shadow_dark no_link">
                            <i class="fa fa-whatsapp mr_10" aria-hidden="true"></i><span>Confirmar Asistencia</span>
                        </a>


                    </div>
                </div>  

            </div>
        </div>
      </div>
    </div>





    <!-- MINIDASH -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <form class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Login</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">Ingresa key</label>
                        <input type="password" class="form-control" name="key" placeholder="##########">
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" onclick="Login()">Ingresar</button>
                </div>
            </div>
        </form>
    </div>



<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/flexslider@2.7.2/jquery.flexslider-min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/countdown/2.6.0/countdown.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.12.0/toastify.min.js"></script>





<script>


var audio = new Audio('audio.mp3');
audio.loop = true;
audio.volume = 0.5;






var targetDate = new Date("Dec 6, 2025 08:00:00").getTime();
var countdownTimer = countdown(
    targetDate,
    function(ts) {
        var countdownText = `
            <div class="time-container">
                <span>${ts.days} :</span>
                <p>Días</p>
            </div>
            <div class="time-container">
                <span>${ts.hours} :</span>
                <p>Horas</p>
            </div>
            <div class="time-container">
                <span>${ts.minutes} :</span>
                <p>Minutos</p>
            </div>
            <div class="time-container">
                <span>${ts.seconds}</span>
                <p>Segundos</p>
            </div>
        `;

        document.getElementById("countdown").innerHTML = countdownText;
    },
    countdown.DAYS | countdown.HOURS | countdown.MINUTES | countdown.SECONDS
);


$('.flexslider').flexslider({
    animation: "fade",
    slideshow: true,
    slideshowSpeed: 1500,
    animationSpeed: 600,
    pauseOnHover: false, 
    controlNav: true,   
    directionNav: true

});


AOS.init();
new WOW().init();


















document.getElementById("sello").addEventListener("click", function() {

    let paginaIzq = document.getElementById('pagina-izq');
    let paginaDer = document.getElementById('pagina-der');
    paginaIzq.style.transform = 'rotateY(-90deg)';
    paginaDer.style.transform = 'rotateY(90deg)';
    document.getElementById("sello").classList.remove("animate__infinite","animate__pulse");
    document.getElementById("sello").classList.add("animate__animated", "animate__fadeOut");
    $(window).scrollTop(0);
    setTimeout(() => {
        document.querySelector(".protector").style.display = "none";
        $('body').css('overflow-y', 'auto');
    }, 800);
    audio.play();
});
$(window).scrollTop(0);


document.querySelectorAll('.modal').forEach(function(modal) {
    modal.addEventListener('hidden.bs.modal', function (event) {
        $('body').css('overflow-y', 'auto');
    });
});











class UrlParams {  constructor() { this.params = new URLSearchParams(window.location.search); }  get(key) { return this.params.get(key); } }
const url = new UrlParams();
var invitado = url.get('invitado');

if(invitado!=null){

     


 

    var link = `http://invitadigital.mywebcommunity.org/show.php?cliente_id=3&familia=${invitado}&r=${Math.random()}`;
    function procesarRespuesta(data) {

        var data = JSON.parse(data);

        if (data.message == false) {
            window.location.href = "./";
        } else {

            $("#txt_famlia").html(toTitleCase(data.message.familia));

            var n  =data.message.num_invitados;
            var str = "";
            if(n>1){
                str = str +n+" personas";
            }else{
                str = str +n+" persona";
            }
            $("#txt_personas").html(str);

            console.log(data.message);
            //$("#exampleModal").html(data);
        }
    }
    fetch(url)
    .then(response => response.text())
    .then(data => procesarRespuesta(data))
    .catch(error => {
        const proxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(link)}`;
        return fetch(proxyUrl)
        .then(response => response.text())
        .then(data => procesarRespuesta(data));
    });
    





}else{
    $("*#acces").addClass("d_none");
    $("*#no_acces").removeClass("d_none");
}



function ShowModal(){
     $('#exampleModal').modal('show');
}


async function Login(){

    var formData = $('#exampleModal form');
    var serialize = formData.serialize();
    var dataObj = formData.serializeArray();

    //$('#exampleModal').modal('hide');


    var url = `http://invitadigital.mywebcommunity.org/login.php?cliente_id=3&clave=${dataObj[0].value}`;
    function procesarRespuesta(data) {
        if (data == 'error') {
    
            Toastify({
                text: "Error en la clave",
                duration: 1000,
                backgroundColor: "#F44336"
            }).showToast();
    
        }
        if (data == 'exito') {




            var all = `http://invitadigital.mywebcommunity.org/all.php?cliente_id=3&r=${Math.random()}`;
            function procesarRespuesta(data) {
                $("#exampleModal").html(data);
            }
            fetch(all)
            .then(response => response.text())
            .then(data => {
                procesarRespuesta(data);
                // Código adicional después de procesar la respuesta
                console.log('Respuesta procesada exitosamente');
            })
            .catch(error => {
                console.log('Error en fetch directo, intentando con proxy...');
                const proxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(all)}`;
                return fetch(proxyUrl)
                .then(response => response.text())
                .then(data => {
                    procesarRespuesta(data);
                });
            });



            /*var all = `http://invitadigital.mywebcommunity.org/all.php?cliente_id=3`;
            function procesarRespuesta(data) {

                $("#exampleModal").html(data);

            }
            fetch(all)
            .then(response => response.text())
            .then(data => procesarRespuesta(data))
            .catch(error => {
                const proxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(all)}`;
                return fetch(proxyUrl)
                .then(response => response.text())
                .then(data => procesarRespuesta(data));
            });*/


        }
    }
    fetch(url)
    .then(response => response.text())
    .then(data => procesarRespuesta(data))
    .catch(error => {
        const proxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`;
        return fetch(proxyUrl)
        .then(response => response.text())
        .then(data => procesarRespuesta(data));
    });
    

    /*Toastify({
        text: "Mensaje aquí",
        duration: 1000,
        backgroundColor: "#4CAF50"
    }).showToast();*/
    /*Toastify({
        text: "Error en la operación",
        duration: 1000,
        backgroundColor: "#F44336"
    }).showToast();*/


}



function addinvitado(){

    const familia = document.getElementById('familia').value.trim().toLowerCase();
    const personas = document.getElementById('personas').value.trim();
    
    // Validar familia (no vacío)
    if (familia === '') {
        Toastify({
            text: "La familia no puede ser vacio",
            duration: 1000,
            backgroundColor: "#F44336"
        }).showToast();
        return false;
    }
    if (personas === '') {
        Toastify({
            text: "El número de personas no puede ser vacio",
            duration: 1000,
            backgroundColor: "#F44336"
        }).showToast();
        return false;
    }
    
    if (isNaN(personas) || personas <= 0) {
        Toastify({
            text: "El número de personas debe ser un número válido mayor a 0",
            duration: 1000,
            backgroundColor: "#F44336"
        }).showToast();
        return false;
    }


    const tabla = document.querySelector('table');
    const tbody = tabla.querySelector('tbody');


    let textoEncontrado = false;
    if (tbody.textContent.includes('Agrega invitados en la parte de abajo')) {
        textoEncontrado = true;
    }
    if (textoEncontrado) {
        tbody.innerHTML = ''; // Limpiar
    }



    let FEncontrado = false;
    if (tbody.textContent.includes(familia)) {
        FEncontrado = true;
    }
    if (FEncontrado) {
        Toastify({
            text: "La familia ya esta agregada",
            duration: 1000,
            backgroundColor: "#F44336"
        }).showToast();
        return false;
    }

    tbody.innerHTML += `
        <tr data-familia="${familia}">
            <td>${familia}</td>
            <td>${personas}</td>
            <td class="text_center">
                <button type="button" class="btn btn-primary p_5" onclick="compartirWat('${familia}')"><span class="material-icons">reply</span></button>
                <button type="button" class="btn btn-danger p_5" onclick="deleteFam('${familia}')"><span class="material-icons">delete</span></button>
            </td>
        </tr>
    `;
        

    Toastify({
        text: "Agregando ",
        duration: 1000,
        backgroundColor: "#4CAF50"
    }).showToast();
    document.getElementById('familia').value = '';
    document.getElementById('personas').value = '';

    var url = `http://invitadigital.mywebcommunity.org/update.php?cliente_id=3&tipo=1&familia=${familia}&personas=${personas}&r=${Math.random()}`;
    function procesarRespuesta(data) {}
    fetch(url)
    .then(response => response.text())
    .then(data => procesarRespuesta(data))
    .catch(error => {
        const proxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`;
        return fetch(proxyUrl)
        .then(response => response.text())
        .then(data => procesarRespuesta(data));
    });




}


function deleteFam(familia){

    document.querySelector('[data-familia="'+familia+'"]').remove();
    const tabla = document.querySelector('table');
    const tbody = tabla.querySelector('tbody');
    const totalTr = tbody.querySelectorAll('tr').length

    if(totalTr<1){
        tbody.innerHTML += `
            <tr>
                <td class="text_center" colspan="3">Agrega invitados en la parte de abajo</td>
            </tr>
        `;
    }


    Toastify({
        text: "Borrado ",
        duration: 1000,
        backgroundColor: "#4CAF50"
    }).showToast();


    var url = `http://invitadigital.mywebcommunity.org/update.php?cliente_id=3&tipo=0&familia=${familia}&r=${Math.random()}`;
    function procesarRespuesta(data) {}
    fetch(url)
    .then(response => response.text())
    .then(data => procesarRespuesta(data))
    .catch(error => {
        const proxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`;
        return fetch(proxyUrl)
        .then(response => response.text())
        .then(data => procesarRespuesta(data));
    });



 
}


function compartirWat(familia){
    const boton = document.createElement('button');
    boton.id = 'miBoton';
    boton.className = 'd_none';
    boton.textContent = 'Compartir WhatsApp';
    document.body.appendChild(boton);
    
    // Codificar la familia para evitar problemas con espacios
    const familiaCodeada = encodeURIComponent(familia);
    const mensaje = "https://invitadigitales.github.io/MariaJose/?invitado=" + familiaCodeada;
    const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(mensaje)}`;
    
    boton.addEventListener('click', function() {
        window.open(whatsappUrl, '_blank');
        boton.remove();
    });
    boton.click();
}


function toTitleCase(str) {
    return str
        .split(' ')
        .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())
        .join(' ');
}




</script>


</body>
</html>